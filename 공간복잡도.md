# 메모리와 공간 복잡도

메모리와 공간 복잡도에 대한 정리

## 1 .데이터의 크기

### 환산

작은 단위에서 1000을 나눈 값이 큰 단위라고 보면 편하다.

| 단위              | 크기                           |
| ----------------- | ------------------------------ |
| 1 byte (바이트)   | 8 bit                          |
| 1 KB (킬로바이트) | 1024 byte                      |
| 1 MB (메가바이트) | 1024 KB = 100만 byte           |
| 1 GB (기가바이트) | 1024 MB = 100만 KB = 10억 byte |

<br>

### 알고리즘에서

자바를 기준으로 각 자료형별로 다음과 같은 데이터 크기를 갖는다.

| 자료형            | 크기   |
| ----------------- | ------ |
| byte, **boolean** | 1 byte |
| **char**, short   | 2 byte |
| **int**, float    | 4 byte |
| **long**, double  | 8 byte |

<br>

## 2. 메모리 제한

알고리즘 문제에는 메모리 제한이라는 것이 존재한다.

보통 `128 MB`, `256 MB`, `512 MB`이며, 종종 `1024 MB`까지 메모리 제한을 두기도 한다.

`1 MB = 100만 byte`로 환산해서 메모리 제한을 대략적으로 계산한다.

| 메모리 제한 | 환산                               |
| ----------- | ---------------------------------- |
| **4 MB**    | **int형 100만 개, long형 50만 개** |
| 8 MB        | int형 200만 개, long형 100만 개    |
| 32 MB       | int형 800만 개, long형 400만 개    |
| 64 MB       | int형 1600만 개, long형 800만 개   |
| 128 MB      | int형 3200만 개, long형 1600만 개  |
| 256 MB      | int형 6400만 개, long형 3200만 개  |

<br>

### 정적 메모리

그러나 위의 케이스는 어디까지나 정적으로 메모리를 사용하는 경우에 해당하는 계산법이다.

따라서 위의 표를 있는 그대로 활용해서 "메모리가 이 정도니까 메모리 초과가 발생하지 않겠지"라고 생각한다면 큰 착각이다.

왜냐하면 실제 코드가 동작함에 있어 정적으로 정해진 것만 있는 것이 아니기 때문이다.

<br>

### 동적 메모리

알고리즘 문제를 풀 때에는 정적 메모리 외에 동적 메모리까지 고려해야 한다.

동적으로 메모리를 사용하는 경우는 `ArrayList`, `Set`, `Map`과 같이 자료를 넣을 수 있는 제한이 정해져 있지 않은 자료형들을 사용할 때이다.

따라서 이런 자료형을 사용할 때는 보통 생각하는 메모리 사용량보다 더 넉넉히 사용한다고 생각을 하는 것이 낫다.

<br>

## 3. 공간 복잡도

시간 복잡도처럼 공간 복잡도 역시 `O()`로 표현할 수 있다.

### 공간 복잡도 추론

공간 복잡도를 추론하기 위해서는 정적 메모리, 동적 메모리와 함수 등을 고려해야 한다.

여기서 공간 복잡도를 추론할 때 중요한 점은, `값이 생성되었다가 없어질 수 있다`는 점이다.

만약에 함수 내 정의한 값이 함수가 종료되어 사라졌다면, 공간 복잡도 계산할 때 단순히 모든 것을 더하는 것이 아니라 특정 시점에 메모리를 차지 하고 있는 값들이 가장 많을 시점에서의 메모리 사용량을 공간 복잡도 계산에 고려해야 한다.



