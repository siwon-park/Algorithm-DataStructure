# 이분 탐색과 투 포인터

이분 탐색으로 풀 수 있는 문제 중에 투 포인터로 풀 수 있는 문제가 꽤 있다.

서로 다른 알고리즘이긴 하나 어느 정도 연관성이 있기 때문에 한 곳에 정리하였다.

## 1. 이분 탐색

> 정렬된 데이터에서 찾고자 하는 값을 빠른 시간 안에 찾을 수 있는 알고리즘

### 최적화 문제와 결정 문제

#### 최적화 문제

조건을 만족하는 최대/최솟값을 찾는 문제

- 예) N개를 만들 수 있는 랜선의 최대 길이

#### 결정 문제

얻을 수 있는 결과가 조건을 만족하는지 못하는지 결정할 수 있는 문제

- 예) 랜선의 길이가 X일 때 만들 수 있는 랜선의 수가 N개 이상인가 아닌가
  - 랜선의 개수를 최소 N개 만들기 위해 필요한 랜선의 길이 X의 최댓값

<br>

### 매개 변수 탐색

> 최적화 문제를 결정 문제로 변환하여 이분 탐색을 수행하는 방법

매개 변수 탐색 시 유의할 점

또한 그 결정 문제로 얻어낸 함수가 `감소 함수`이거나 `증가 함수`여야 한다.

| 답을 찾을 수 있음                                            | 답을 찾을 수 없음                                            |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/eeaac927-4585-4d22-a4ad-e340e21d2e1b) | ![image](https://github.com/siwon-park/Problem_Solving/assets/93081720/612c607b-1847-4036-99fc-61bc41174790) |

#### 이유

왜 결정 문제로 얻어진 함수가 `감소 함수`이거나 `증가 함수`여야 하는가

`결정한 값에 따른 결과의 일관성이 있기 때문`이다.

즉, 특정 시점에서 `mid1`을 선택했더니 N보다 많은 `n1`을 얻을 수 있었고, mid1보다 작은 `mid2`를 택했더니 N과 가까운 `n2`를 얻을 수 있는 것처럼 선택에 따른 결과에 일관성이 존재하기 때문에 특정 시점에서 값을 증가시킬지, 감소시킬지 `결정`을 할 수 있다.

반면에 감소함수도 아니고 증가함수도 아니면 특정 시점에 한 결정의 결과의 일관성이 보장되지 않기 때문에 어떤 선택을 하는 게 최적일지 알 수 없다. 선택은 할 수 있겠지만 해당 선택이 최적이 보장되지 않는다.

<br>

## 2. 투 포인터

투 포인터를 풀 때 절대 하면 안 되는 행동

### 포인터가 조건문에 조건으로서 포함 되면 안 된다

아래와 같이 포인터가 조건문에 조건으로서 포함 되면 안 된다.

```java
while (left < right) {
    // ...중략...
   else { // 세 수의 합이 0이 아니면 포인터를 옮겨봄
        if (left + 1 < right) { // 왼쪽 포인터 탐색
            // ...중략...
            left += 1;
        }
        if (right - 1 > left) { // 오른쪽 포인터 탐색
            // ...중략...
            right -= 1;
        }
	}
}
```

#### 왜 안 될까?

`while`문에 의해서 `left < right`인 동안 무한 반복을 하게 되는데 포인터가 조건이 되면 `left > right`인 조건을 만들지 못해 탈출 구문을 만들어줘야 한다.

그러면 탈출 구문 만들면 끝 아닌가? 생각할 수 있는데, 잘못된 탈출 구문으로 인해 올바른 대상값을 찾지 못하고 탈출하게 되는 경우가 생길 수 있다. 

또한 결정적으로 그렇게 되면 우리가 `투 포인터로 찾고자 하는 대상`에 따라서 탈출 구문을 만들어줘야 한다.

그런데 여기서 잘 생각해 보면 `투 포인터로 찾고자 하는 값에 따라서 포인터를 옮겨주는 것`이 투 포인터의 핵심인데 포인터에 따라서 대상 값을 조건으로 하여 움직이게 되니 원하는 올바른 값을 못 찾을 수도 있게 된다.

#### 올바른 조건문

투 포인터의 결과에 따라 포인터를 이동하는 방식으로 로직과 조건문을 구현하는 것이 올바른 방법이다.

```java
while (left < right) {
    int sum = arr[left] + arr[right];
    if (sum > 0) {
        // ...중략...
        right -= 1'
    } else if (sum < 0) {
        // ...중략...
        left += 1;
    }
}
```

